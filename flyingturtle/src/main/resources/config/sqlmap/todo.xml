<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.flyingturtle.repository.mapper.TodoMapper">


   <!-- 프로젝트 클릭시 todo 리스트 목록 조회 -->
 	<select id="selectListTodo" resultType="todo">
	 	 select t.content, t.deadline, t.code_no
			from tb_todo t inner join tb_project p 
			  on t.pj_no = p.pj_no
    </select>

    <!-- 1. 프로젝트 등록 (나중에 멤버도 받아야하니 일단 parameterType todo)-->
	<insert id="inserTodo" parameterType="todo">
	  insert into tb_project( title, member_no) 
	     values ( #{title}, '1')
	</insert>

   <!-- 2. 투두 등록 -->
	<insert id="inserTodo" parameterType="todo">	
	   insert into tb_todo( pj_no, content, endday, code_no) 
	     values ( 1, #{content}, #{endDay}, 30);
	</insert>
	
	
	
	
     <!-- 프로젝트 삭제 -->
	<delete id="deleteTodo" parameterType="int">
    	delete 
    	  from tb_project 
    	 where pj_no = #{pjNo}
    </delete>
    
    
    <!-- 프로젝트  -->
    <update id="updateTodo" parameterType="qna">
    	update tb_question 
    	   set 	title = #{title},
    	   		code_no = #{codeNo},
    	       	content = #{content}
    	 where qna_no = #{qnaNo}
    </update>
    
    
</mapper>